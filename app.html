<!doctype html><html lang="fr"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Agora / RÃ©seau (prototype) â€” Charlottâ€™ Street Club</title>
<meta name="description" content="Charlottâ€™ Street Club â€” Prototype 100% client-side (aucune collecte)."/>
<meta property="og:title" content="Agora / RÃ©seau (prototype) â€” Charlottâ€™ Street Club"/>
<meta property="og:type" content="website"/>
<meta property="og:image" content="./assets/logo-hero.png"/>
<link rel="stylesheet" href="./styles.css"/>
<script defer src="./js/main.js"></script>
</head>
<body>

<header class="topbar">
  <nav class="topbar-nav">
    <div class="brand"><img src="./assets/logo-hero.png" alt="Logo CSC"/><span>Charlottâ€™ Street Club</span></div>
    <a class="nav" href="./index.html">Accueil</a>
    <a class="nav" href="./app.html">/app</a>
    <a class="nav" href="./segments.html">/segments</a>
    <a class="nav" href="./media-kit.html">/media-kit</a>
    <a class="nav" href="./partenaires.html">/partenaires</a>
    <a class="nav" href="./associations.html">/associations</a>
    <span style="flex:1"></span>
    <a class="nav is-cta" href="./app.html">Rejoindre lâ€™Agora</a>
  </nav>
</header>
<div class="csc-profile">
  <span class="csc-avatar" data-avatar></span>
  <form id="csc-profile-form" aria-label="Profil local">
    <input name="name" placeholder="Ton pseudo (local)" aria-label="Ton pseudo"/>
    <button type="submit">Enregistrer</button>
  </form>
  <span>Bienvenue, <strong data-user-name>Anonyme</strong></span>
</div>
<main class="container">
  <h2>Agora â€” Miniâ€‘rÃ©seau (local)</h2>
  <p class="meta">Tout est stockÃ© dans ton navigateur (localStorage). Pas de serveur, pas de collecte.</p>
  <section class="card">
    <form id="composer" style="display:flex;gap:.6rem;align-items:flex-start">
      <textarea id="content" rows="3" style="flex:1;border-radius:12px;padding:10px"></textarea>
      <button class="button primary" type="submit">Publier</button>
    </form>
  </section>
  <section id="feed" class="grid" aria-live="polite" style="margin-top:16px"></section>
</main>
<button class="fab" aria-label="Revenir Ã  lâ€™accueil" onclick="location.href='./index.html'"><span>ğŸ </span></button>
<script>
// Local mini-network
const key = 'csc_feed_v1';
const $feed = document.getElementById('feed');
const $composer = document.getElementById('composer');
const $content = document.getElementById('content');
function read(){ return JSON.parse(localStorage.getItem(key)||'[]'); }
function write(items){ localStorage.setItem(key, JSON.stringify(items)); render(); }
function render(){
  const items = read();
  $feed.innerHTML = items.map((p,i)=>`
    <article class="card">
      <div class="small meta">${new Date(p.ts).toLocaleString('fr-FR')}</div>
      <p style="white-space:pre-wrap">${p.text}</p>
      <div style="display:flex;gap:.5rem">
        <button class="button ghost" onclick="like(${i})">â¤ï¸ ${p.likes||0}</button>
        <button class="button outline" onclick="del(${i})">Supprimer</button>
      </div>
    </article>
  `).join('') || '<div class="card">Aucun postâ€¦ commence par Ã©crire âœï¸</div>';
}
function like(i){ const items=read(); items[i].likes=(items[i].likes||0)+1; write(items); }
function del(i){ const items=read(); items.splice(i,1); write(items); }
$composer.addEventListener('submit', e=>{e.preventDefault(); const txt=$content.value.trim(); if(!txt) return; const items=read(); items.unshift({text:txt, ts:Date.now(), likes:0}); write(items); $content.value='';});
render();
</script>
<script defer src="./js/cta.js"></script>
<script defer src="./js/profile.js"></script>
</body></html>
